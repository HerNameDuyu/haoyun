!function(e){function t(t){for(var a,r,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(d&&d(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={index:0},o={index:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{about:1,"chunk-4e811880":1,"chunk-7c31d3ad":1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="assets/css/"+({about:"about"}[e]||e)+"."+{about:"2741063d","chunk-4e811880":"6204b416","chunk-7c31d3ad":"b1f51e4b"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=(d=i[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===a||u===o))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var d;if((u=(d=l[c]).getAttribute("data-href"))===a||u===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],f.parentNode.removeChild(f),n(i)},f.href=o,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(e){return s.p+"assets/js/"+({about:"about"}[e]||e)+".2c784f96fc66097d2467.js"}(e);var u=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,n[1](u)}o[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw e};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;i.push([0,"chunk-vendors"]),n()}({0:function(e,t,n){e.exports=n("56d7")},"365c":function(e,t,n){"use strict";var a=n("5530"),r=(n("99af"),n("fb6a"),n("ade3")),o=n("d4ec"),i=n("bee2"),s=(n("e7e5"),n("d399")),c=(n("d3b7"),n("a9e3"),n("bc3a")),u=n.n(c),l={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求是不存在的，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"},d="http://47.111.174.239:8000/FaceView.asmx",f=window.localStorage.getItem("vinUserId")||"",h=u.a.create({baseURL:d});h.interceptors.request.use((function(e){var t={"Content-Type":(e.method,"application/x-www-form-urlencoded; charset=UTF-8")},n=Object.assign(e.headers,t);return e.headers=n,"post"==e.method&&(e.data+="&userId=".concat(f)),"get"==e.method&&(e.params=Object.assign(e.params,{userId:f})),e}),(function(e){return Promise.reject(e)})),h.interceptors.response.use((function(e){var t=e.data;return 1!=Number(t.status)?(s.a.fail(t.error_msg),Promise.reject(t.error_msg||"Error")):t}),(function(e){s.a.fail("系统异常")}));var m=u.a.create({baseURL:d}),p=(new(function(){function e(t){Object(o.a)(this,e),this.baseURL=t,this.queue={},this.timeout=5e3}return Object(i.a)(e,[{key:"checkStatus",value:function(e){var t=e.data;if(e&&(200===e.status||304===e.status||400===e.status))return 0==t.status?t:402===t.errorCode||401===t.status?Promise.reject(n):Promise.reject(t);var n=e&&(l[e.status]||e.statusText);Promise.reject(e)}},{key:"interceptors",value:function(e,t){e.interceptors.request.use((function(e){return e.baseURL=d,e.scope=t,e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),(function(e){var t=e.response;if(!t)try{var n=JSON.parse(JSON.stringify(e)),a=n.request;t={statusText:a.statusText,status:a.status,request:{responseURL:n.config.url}}}catch(n){t=e}return Promise.reject(t)}))}},{key:"error",value:function(e){return Promise.reject(e)}},{key:"setRequest",value:function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.interceptors(m,a);var i={method:e,url:t};n.userId=f;var s={"X-Requested-With":"XMLHttpRequest","Content-Type":o?"multipart/form-data":"post"==e?"application/json":"application/x-www-form-urlencoded; charset=UTF-8"};return Object.assign(i,Object(r.a)({headers:s},"post"==e?"data":"params",n)),m(i).then(this.checkStatus).catch(this.error)}},{key:"post",value:function(e,t,n){return this.setRequest("post",e,t,n)}},{key:"get",value:function(e,t,n){return this.setRequest("get",e,t,n)}},{key:"POST",value:function(e,t,n){return this.setRequest("post",e,t,n).then(this.success)}},{key:"GET",value:function(e,t,n){return this.setRequest("get",e,t,n).then(this.success)}},{key:"File",value:function(e,t,n){return this.setRequest("post",e,t,n,!0).then(this.fileSuccess)}},{key:"success",value:function(e){return e.data}},{key:"fileSuccess",value:function(e){return e}}]),e}())(d),h);t.a={ocrDiscern:function(e){var t="";for(var n in e)t+="&".concat(n,"=").concat(e[n]);return t=t.slice(1),p({url:"API_Evaluate_OcrDiscern",method:"post",data:t})},matchCar:function(e){return p({url:"API_Evaluate_VinMatch",method:"get",params:Object(a.a)({},e)})},getHistorySerch:function(e){return p({url:"API_Evaluate_QueryHistory",method:"get",params:Object(a.a)({},e)})},getDetais:function(e){return p({url:"API_Evaluate_VinQuery",method:"get",params:Object(a.a)({},e)})},carModelReport:function(e){return p({url:"API_Evaluate_CarModelReport",method:"get",params:Object(a.a)({},e)})},generalInfo:function(e){return p({url:"API_Evaluate_CarGeneralInfo",method:"get",params:Object(a.a)({},e)})},evaluate:function(e){return p({url:"API_Evaluate_CarEvaluate",method:"get",params:Object(a.a)({},e)})},getCity:function(e){return p({url:"API_Evaluate_GetCityInfo",method:"get",params:Object(a.a)({},e)})}}},"415b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n("e623"),n("e379"),n("5dc8"),n("37e1"),n("ac1f"),n("841c"),n("fb6a"),n("1276"),n("159b"),n("caad6"),n("2532");var a=n("a026"),r={data:function(){return{docmHeight:document.documentElement.clientHeight,showHeight:document.documentElement.clientHeight,hideShow:!0,appHeight:"100%"}},metaInfo:{meta:[{name:"apple-mobile-web-app-capable",content:"yes"},{name:"viewport",content:"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"}]},created:function(){window.localStorage.getItem("vinNo")&&window.localStorage.removeItem("vinNo")},mounted:function(){var e=this;window.onresize=function(){e.showHeight=document.body.clientHeight}},beforeDestroy:function(){window.localStorage.removeItem("vinUserId"),window.localStorage.removeItem("vinNo")},watch:{showHeight:function(){this.docmHeight>this.showHeight?this.hideShow=!1:this.hideShow=!0}}},o=(n("5c0b"),n("2877")),i=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:{height:this.appHeight},attrs:{id:"app"}},[t("router-view")],1)}),[],!1,null,null,null).exports,s=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),c=(n("e7e5"),n("d399")),u=n("1da1"),l=(n("96cf"),n("a9e3"),n("365c")),d=.8,f=800,h={data:function(){return{carCode:"",fileList:[],showPopList:!1,popList:[],docmHeight:document.documentElement.clientHeight,showHeight:document.documentElement.clientHeight,hideShow:!0,loadingLock:!1}},watch:{showHeight:function(){this.docmHeight>this.showHeight?this.hideShow=!1:this.hideShow=!0}},mounted:function(){var e=this;window.onresize=function(){e.showHeight=document.body.clientHeight}},created:function(){window.localStorage.getItem("vinNo")&&(this.carCode=window.localStorage.getItem("vinNo"))},methods:{getVin:function(e){var t=this;return new Promise((function(n,a){var r={driveData:e};l.a.ocrDiscern(r).then((function(e){1==e.status?n(e.data||""):(t.loadingLock=!1,a(e.error_msg))})).catch((function(){t.loadingLock=!1}))}))},afterRead:function(e){var t=this;return Object(u.a)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(a="",t.loadingLock=!0,!(e.file.size>1048576)){n.next=10;break}return n.next=7,t.compress(e.content);case 7:a=n.sent,n.next=11;break;case 10:a=e.content;case 11:if(a){n.next=14;break}return t.loadingLock=!1,n.abrupt("return");case 14:t.getVin(a).then((function(e){t.loadingLock=!1,t.carCode=e.vin})).catch((function(e){Object(c.a)(e||"识别失败！"),t.loadingLock=!1}));case 15:case"end":return n.stop()}}),n)})))()},validateVin:function(e){if("string"!=typeof e)return!1;if(17!=e.length)return!1;if(e=e.toUpperCase(),!/^[A-HJ-NPR-Z\d]{8}[X\d][A-HJ-NPR-Z\d]{3}\d{5}$/.test(e))return!1;for(var t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9},n=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],a=0,r=e.split(""),o=0;o<17;o++)a+=t[r[o]]*n[o];return["0","1","2","3","4","5","6","7","8","9","X"][a%11]==r[8]},checkVin:function(e){if(e.length>0&&17!=e.length)return!1;for(var t=e.toUpperCase(),n={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9},a=0,r=new Array,o=0;o<t.length;o++){var i=t.charAt(o);r[o]=n[i]?n[i]:Number(i),8==o&&(r[o]=t.charAt(o))}for(var s=8,c=0;c<7;c++)a+=Number(r[c])*s,s--;a+=10*Number(r[7]);for(var u=9,l=9;l<17;l++)a+=Number(r[l])*u,u--;var d=Number(a)%11;return 10===parseInt(d)&&(d="X"),d==r[8]},handleSearch:function(){var e=this;if(this.carCode)if(window.localStorage.setItem("vinNo",this.carCode),this.checkVin(this.carCode)){var t={vinNo:this.carCode};l.a.matchCar(t).then((function(t){if(1==t.status)if(1==t.modelInfo.length){var n={vinNo:window.localStorage.getItem("vinNo"),modelId:t.modelInfo[0].model_id,modelName:t.modelInfo[0].model_name};e.$router.push({name:"Details",params:n})}else t.modelInfo.length>1&&(e.showPopList=!0,e.popList=t.modelInfo);else c.a.fail(t.error_msg||"系统异常！")}))}else Object(c.a)({message:"车架号格式不正确，请重新填写！"});else c.a.fail("请先填写车架号")},popRowClick:function(e){var t={vinNo:window.localStorage.getItem("vinNo"),modelId:e.model_id,modelName:e.model_name};this.$router.push({name:"Details",params:t})},codeSearch:function(){},historySearch:function(){this.$router.push("/list")},compress:function(e){return new Promise((function(t,n){var a=new Image;a.src=e,a.onload=function(){var e=document.createElement("canvas"),n=e.getContext("2d"),r=Math.min(f,a.width),o=a.height*(r/a.width);e.height=o,e.width=r,n.fillStyle="#fff",n.fillRect(0,0,e.width,e.height),n.drawImage(a,0,0,r,o);var i=e.toDataURL("image/jpeg",d);i.length/1024/1024>1.4&&(Object(c.a)("图片体积过大，换小一点的图片吧！"),t(i="")),t(i)}}))}}},m=(n("c873"),Object(o.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-wrap"},[a("van-nav-bar",{attrs:{title:""}}),a("div",{staticClass:"inputBox"},[a("div",{staticClass:"upLoadBox"},[a("van-uploader",{attrs:{"after-read":e.afterRead,accept:"image/*"}},[a("div",{staticClass:"cameraBox"},[a("img",{attrs:{src:n("baf3")}})])])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.carCode,expression:"carCode"}],attrs:{placeholder:"请输入行驶证上的17位车架号"},domProps:{value:e.carCode},on:{input:function(t){t.target.composing||(e.carCode=t.target.value)}}}),a("div",{staticClass:"btnSearch"},[a("van-button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:function(t){return e.handleSearch()}}},[e._v("查询")])],1)]),e.showPopList?a("div",{staticClass:"popList"},e._l(e.popList,(function(t,n){return a("van-cell",{key:n,attrs:{title:t.model_name,value:t.model_price+"万"},on:{click:function(n){return e.popRowClick(t)}}})})),1):e._e(),e.loadingLock?a("div",{staticClass:"loadingBox"},[a("van-loading",{attrs:{size:"24px"}},[e._v("识别中...")])],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hideShow,expression:"hideShow"}],staticClass:"bottomBox"},[a("van-button",{staticClass:"bottom-btn",attrs:{type:"default"},on:{click:function(t){return e.codeSearch()}}},[e._v("车架号查询")]),a("van-button",{staticClass:"bottom-btn",attrs:{type:"default"},on:{click:function(t){return e.historySearch()}}},[e._v("查询历史")])],1)],1)}),[],!1,null,"8bf855b8",null).exports);a.a.use(s.a);var p=[{path:"/dist",redirect:"/"},{path:"/",name:"Home",component:m,meta:{title:"车辆评估",keepAlive:!1}},{path:"/details",name:"Details",meta:{title:"车辆详情",keepAlive:!0},component:function(){return n.e("about").then(n.bind(null,"9f52"))}},{path:"/list",name:"List",meta:{title:"历史查询"},component:function(){return n.e("chunk-7c31d3ad").then(n.bind(null,"1a33"))}},{path:"/evaluate",name:"Evaluate",meta:{title:"车辆评估"},component:function(){return n.e("chunk-4e811880").then(n.bind(null,"dbd0"))}}],v=new s.a({routes:p});v.beforeEach((function(e,t,n){e.meta.title&&(document.title=e.meta.title),n()})),v.install=function(e){e.component(v,v)};var g=v,b=n("2f62");a.a.use(b.a);var w=new b.a.Store({state:{},mutations:{},actions:{},modules:{}}),y=(n("f524"),n("499a"),n("c3a6"),n("ad06")),k=(n("e930"),n("8f80")),S=(n("2994"),n("2bdd")),C=(n("c194"),n("7744")),_=(n("ab71"),n("58e6")),j=(n("4d48"),n("d1e1")),I=(n("81e6"),n("9ffb")),P=(n("5246"),n("6b41")),O=(n("8a58"),n("e41f")),x=(n("5f5f"),n("f253")),E=(n("66b9"),n("b650")),L=(n("0653"),n("34e9")),N=(n("be7f"),n("565f")),H=(n("38d5"),n("772a")),R=(n("e17f"),n("2241")),A=(n("66cf"),n("343b"));n("ac1e"),[n("543e").a,A.a,c.a,R.a,H.a,N.a,L.a,E.a,x.a,O.a,P.a,I.a,j.a,_.a,C.a,S.a,k.a,y.a].forEach((function(e){return a.a.use(e)})),Object.assign(window,{Toast:c.a,Dialog:R.a});var T=n("58ca");a.a.use(T.a);var U=window.location.search,D=(U=U.slice(1)).split("&"),q="";D.forEach((function(e){e.includes("FUserID")&&(q=e.split("=")[1],window.localStorage.setItem("vinUserId",q))})),a.a.config.productionTip=!1,new a.a({router:g,store:w,render:function(e){return e(i)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("66057")},66057:function(e,t,n){},baf3:function(e,t,n){e.exports=n.p+"assets/img/camera1.34b4fa95.png"},c873:function(e,t,n){"use strict";n("415b")},f524:function(e,t,n){}});